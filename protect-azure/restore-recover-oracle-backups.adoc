---
permalink: protect-azure/restore-recover-oracle-backups.html 
sidebar: sidebar 
keywords: SnapCenter Plug-in for Oracle Database, restore, recover, tablespaces, pluggable databases, point-in-time 
summary: 您可以使用 SnapCenter 从一个或多个备份还原和恢复数据。 
---
= 还原和恢复 Oracle 数据库
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
如果数据丢失，您可以使用 SnapCenter 将数据从一个或多个备份还原到活动文件系统，然后恢复数据库。

.步骤
. 在左侧导航窗格中，单击 * 资源 * ，然后从列表中选择相应的插件。
. 在“资源”页中，从“视图”列表中选择*Database或*Resource Group*。
. 从列表中选择数据库或资源组。
. 从管理副本视图中，从主存储系统中选择*备份*。
. 从表中选择备份，然后单击 *image:../media/restore_icon.gif["还原图标"]*
. 在还原范围页面中，执行以下任务：
+
.. 如果您在RAC环境中选择了数据库的备份、请选择RAC。
.. 执行以下操作：
+
... 如果只想恢复数据库文件，请选择*所有数据文件*。
... 如果只想还原表空间，请选择*Tableespies*。
... 如果要还原Data Guard备用数据库或Active Data Guard备用数据库的重做日志文件，请选择*重做日志文件*。
... 选择*可插拔数据库*并指定要恢复的PDB。
... 选择 * 可插拔数据库（ PDB ）表空间 * ，然后指定要还原的 PDB 及其表空间。
... 如果要将数据库还原到创建备份的同一SQL Server，请选择*将数据库还原到创建备份的同一主机*。
... 如果要将数据库恢复到同一或不同主机中的其他SQL Server，请选择*将数据库恢复到备用主机*。
... 选择 * 如果需要还原和恢复更改数据库状态 * ，将数据库的状态更改为执行还原和恢复操作所需的状态。
... 如果要在备份后添加新数据文件或向 LVM 磁盘组添加，删除或重新创建 LUN 时执行原位还原，请选择 * 强制原位还原 * 。




. 在恢复范围页面中，选择以下选项之一：
+
.. 如果要恢复到上一个事务，请选择*所有日志*。
.. 如果要恢复到特定的scn，请选择*Until scn (系统变更号)*。
.. 如果要恢复到特定日期和时间，请选择*日期和时间*。
.. 如果不想恢复，请选择*不恢复*。
.. 如果要指定外部归档日志文件的位置，请选择*指定外部归档日志位置*。


. 在操作前和操作后页面中、指定所需的详细信息。
. 在通知页面的 * 电子邮件首选项 * 下拉列表中，选择要发送电子邮件的场景。
. 查看摘要，然后单击 * 完成 * 。
. 单击 * 监控 * > * 作业 * 以监控操作进度。




== 使用时间点恢复还原和恢复表空间

您可以还原已损坏或丢弃的部分表空间、而不会影响数据库中的其他表空间。SnapCenter 使用 RMAN 对表空间执行时间点恢复（ PITR ）。

.步骤
. 在左侧导航窗格中，单击 * 资源 * ，然后从列表中选择相应的插件。
. 在“资源”页中，从“视图”列表中选择*Database或*Resource Group*。
. 选择类型为单实例(多租户)的数据库。
. 从管理副本视图中，从存储系统中选择 * 备份 * 。
+
如果备份未编目，则应选择备份并单击 * 目录 * 。

. 选择编目备份、然后单击*image:../media/restore_icon.gif["还原图标"]*
. 在还原范围页面中，执行以下任务：
+
.. 如果在RAC环境中选择了数据库的备份，请选择*RAC*。
.. 如果只想还原表空间，请选择*Tableespies*。
.. 选择 * 如果需要还原和恢复更改数据库状态 * ，将数据库的状态更改为执行还原和恢复操作所需的状态。


. 在恢复范围页面中，选择以下选项之一：
+
.. 如果要恢复到特定的scn，请选择*Until scn (系统变更号)*。
.. 如果要恢复到特定日期和时间，请选择*日期和时间*。


. 在操作前和操作后页面中、指定所需的详细信息。
. 在通知页面的 * 电子邮件首选项 * 下拉列表中，选择要发送电子邮件的场景。
. 查看摘要，然后单击 * 完成 * 。
. 使用 * 监控 * > * 作业 * 页面监控还原过程。




== 使用时间点恢复还原和恢复可插拔数据库

您可以还原和恢复已损坏或丢弃的可插拔数据库（ PDB ），而不会影响容器数据库（ CDB ）中的其他 PDB 。SnapCenter 使用 RMAN 对 PDB 执行时间点恢复（ PITR ）。

.步骤
. 在左侧导航窗格中，单击 * 资源 * ，然后从列表中选择相应的插件。
. 在“资源”页中，从“视图”列表中选择*Database或*Resource Group*。
. 选择类型为单实例(多租户)的数据库。
. 从管理副本视图中，从存储系统中选择 * 备份 * 。
+
如果备份未编目，则应选择备份并单击 * 目录 * 。

. 选择编目备份、然后单击*image:../media/restore_icon.gif["还原图标"]*
. 在还原范围页面中，执行以下任务：
+
.. 如果在RAC环境中选择了数据库的备份，请选择*RAC*。
.. 根据要还原 PDB 中的 PDB 还是表空间，请执行以下操作之一：
+
*** 如果要还原PDB，请选择*可插拔数据库(PDB)*。
*** 如果要在PDB中还原表空间，请选择*可插拔数据库(PDB)表空间*。




. 在恢复范围页面中，选择以下选项之一：
+
.. 如果要恢复到特定的scn，请选择*Until scn (系统变更号)*。
.. 如果要恢复到特定日期和时间，请选择*日期和时间*。


. 在操作前和操作后页面中、指定所需的详细信息。
. 在通知页面的 * 电子邮件首选项 * 下拉列表中，选择要发送电子邮件的场景。
. 查看摘要，然后单击 * 完成 * 。
. 使用 * 监控 * > * 作业 * 页面监控还原过程。

